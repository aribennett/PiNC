import numpy as np
resistance = 2.7
thermistor_curve = np.array([[-50, 8887],
                            [-30, 2156],
                            [-10, 623.2],
                            [0, 354.6],
                            [10, 208.8],
                            [25, 100.00],
                            [40, 50.90],
                            [50, 33.45],
                            [60, 22.48],
                            [80, 10.8],
                            [85, 9.094],
                            [100, 5.569],
                            [120, 3.058],
                            [140, 1.770],
                            [160, 1.074],
                            [180, 0.6763],
                            [200, 0.4452],
                            [220, 0.3016],
                            [240, 0.2104],
                            [260, 0.1507],
                            [280, 0.1105],
                            [300, 0.08278]]).T

ntc_100k_curve = np.array([[0, 321.140],
                          [1, 305.482],
                          [2, 290.679],
                          [3, 276.676],
                          [4, 263.427],
                          [5, 250.886],
                          [6, 239.012],
                          [7, 227.764],
                          [8, 217.106],
                          [9, 207.005],
                          [10, 198.530],
                          [11, 188.343],
                          [12, 179.724],
                          [13, 171.545],
                          [14, 163.780],
                          [15, 156.407],
                          [16, 149.403],
                          [17, 142.748],
                          [18, 136.423],
                          [19, 130.410],
                          [20, 124.692],
                          [21, 119.253],
                          [22, 114.078],
                          [23, 109.152],
                          [24, 104.464],
                          [25, 100.000],
                          [26, 95.747],
                          [27, 91.697],
                          [28, 87.837],
                          [29, 84.157],
                          [30, 80.650],
                          [31, 77.305],
                          [32, 74.115],
                          [33, 71.072],
                          [34, 68.167],
                          [35, 65.395],
                          [36, 62.749],
                          [37, 60.222],
                          [38, 57.809],
                          [39, 55.503],
                          [40, 53.300],
                          [41, 51.195],
                          [42, 49.183],
                          [43, 47.259],
                          [44, 45.419],
                          [45, 43.659],
                          [46, 41.975],
                          [47, 40.364],
                          [48, 38.822],
                          [49, 37.346],
                          [50, 35.840],
                          [51, 34.580],
                          [52, 33.284],
                          [53, 32.043],
                          [54, 30.853],
                          [55, 29.713],
                          [56, 28.620],
                          [57, 27.573],
                          [58, 26.568],
                          [59, 25.605],
                          [60, 24.681],
                          [61, 23.794],
                          [62, 22.944],
                          [63, 22.127],
                          [64, 21.344],
                          [65, 20.592],
                          [66, 19.869],
                          [67, 19.175],
                          [68, 18.509],
                          [69, 17.869],
                          [70, 17.253],
                          [71, 16.662],
                          [72, 16.094],
                          [73, 15.548],
                          [74, 15.022],
                          [75, 14.517],
                          [76, 14.031],
                          [77, 13.564],
                          [78, 13.114],
                          [79, 12.681],
                          [80, 12.265],
                          [81, 11.864],
                          [82, 11.478],
                          [83, 11.106],
                          [84, 10.748],
                          [85, 10.404],
                          [86, 10.071],
                          [87, 9.751], 
                          [88, 9.443],
                          [89, 9.146],
                          [90, 8.859],
                          [91, 8.583],
                          [92, 8.316],
                          [93, 8.060],
                          [94, 7.812],
                          [95, 7.573],
                          [96, 7.342],
                          [97, 7.120],
                          [98, 6.905],
                          [99, 6.698],
                          [100, 6.498]])


def get_thermistor_temp(adc):
    v_therm = 3.3*(adc/1024)
    v = 3.3 - v_therm
    r_therm = v_therm/(v/resistance)
    temp = np.interp(-r_therm, -thermistor_curve[1], thermistor_curve[0])
    return temp, r_therm


def get_ntc100k_temp(adc):
    v_therm = 3.3*(adc/1024)
    v = 3.3 - v_therm
    r_therm = v_therm/(v/resistance)
    temp = np.interp(-r_therm, -ntc_100k_curve[1], ntc_100k_curve[0])
    return temp, r_therm
